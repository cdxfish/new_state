<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
	<data>

        <record model="ir.ui.view" id="funenc_xa_station_change_shifts_list">
			<field name="name">funenc_xa_station_change_shifts_list</field>
			<field name="model">funenc_xa_station.change_shifts</field>
			<field name="arch" type="xml">
				<tree limit="15">
                    <field name="line_id" string="线路" domain="[('department_hierarchy','=',2)]"
                           options="{'no_create':True,'no_open':True}" groups="funenc_xa_station.system_fuenc_tester"/>
                    <field name="site_id" string="站点" domain="[('department_hierarchy','=',3)]"
                           options="{'no_create':True,'no_open':True}" groups="funenc_xa_station.system_fuenc_tester" context="{'site_id':site_id}"/>
                    <field name="application_user_id" string="申请人" domain="[('departments','=',site_id)]"/>
                    <field name="jobnumber" string="工号"/>
                    <field name="position" string="职位"/>
                    <field name="application_time" string="申请时间"/>
                    <field name="change_shifts_group" string="换班班次" />
                    <field name="change_shifts_user_id" string="换班对象" />
                    <field name="change_shifts_jobnumber" string="工号"/>
                    <field name="is_agree" string="是否同意"/>
                    <field name="agree_time" string="同意时间"/>
                    <field name="is_approve" string="是否审批"/>
                    <field name="approve_time" string="审批时间"/>
                </tree>
			</field>
		</record>

        <record model="ir.ui.view" id="funenc_xa_station_change_shifts_form">
			<field name="name">funenc_xa_station_change_shifts_form</field>
			<field name="model">funenc_xa_station.change_shifts</field>
			<field name="arch" type="xml">
				<form>
					<div class="container-fluid">
                        <header>
                            <button name="apply" type="object" string="申请" class="oe_highlight"
                                    attrs="{'invisible': [('state','!=', 'draft')]}"
                            />
                            <button name="agree" type="object" string="本人同意" class="oe_highlight"
                                    attrs="{'invisible': [('state','!=', 'application')]}"
                            />
                            <button name="site_agree" type="object" string="站长同意" class="oe_highlight"
                                    attrs="{'invisible': [('state','!=', 'agree')]}"
                            />
                            <button name="retreat" type="object" string="退回" class="oe_highlight"
                                    attrs="{'invisible': [('state','in', ['draft','site_agree','application'])]}"
                            />

                            <field name="state" widget="statusbar"/>
                        </header>
						<group>
                            <field name="line_id" string="线路"
                                   options="{'no_create':True,'no_open':True}"
                                   groups="funenc_xa_station.system_fuenc_tester"/>
                            <field name="site_id" string="站点"
                                   options="{'no_create':True,'no_open':True}"
                                   groups="funenc_xa_station.system_fuenc_tester" context="{'site_id':site_id}"/>
                            <field name="application_user_id" string="申请人"
                                   domain="[('departments','=',site_id)]"
                                   options="{'no_create':True,'no_open':True}"
                            />
                            <field name="jobnumber" string="工号" readonly="1" />
                            <field name="position" string="职位" readonly="1"/>
                            <field name="application_time" string="申请时间"/>
                            <field name="change_shifts_time" string="换班时间"/>
                            <field name="change_shifts_group" string="换班班次" domain="[('site_id','=',site_id)]"  options="{'no_create':True,'no_open':True}"/>
                            <field name="change_shifts_user_id" string="换班对象" domain="[('departments','=',site_id)]" options="{'no_create':True,'no_open':True}"/>
                            <field name="change_shifts_jobnumber" string="工号" readonly="1"/>
                            <!--<field name="is_agree" string="是否同意"/>-->
                            <!--<field name="agree_time" string="同意时间"/>-->
                            <!--<field name="is_approve" string="是否审批"/>-->
                            <!--<field name="approve_time" string="审批时间"/>-->
						</group>
					</div>
				</form>
			</field>
		</record>


        <record model="ir.ui.view" id="funenc_xa_station_change_shifts_time_list">
			<field name="name">funenc_xa_station_change_shifts_time_list</field>
			<field name="model">funenc_xa_station.change_shifts_time</field>
			<field name="arch" type="xml">
				<tree limit="15">
                    <field name="line_id" string="线路" domain="[('department_hierarchy','=',2)]"
                           options="{'no_create':True,'no_open':True}"
                           groups="funenc_xa_station.system_fuenc_tester"/>
                    <field name="site_id" string="站点" domain="[('department_hierarchy','=',3)]"
                           options="{'no_create':True,'no_open':True}"
                           groups="funenc_xa_station.system_fuenc_tester"/>
                    <field name="context" string="内容"/>
                    <field name="time" string="时间"/>
                </tree>
			</field>
		</record>

        <record model="ir.ui.view" id="funenc_xa_station_change_shifts_time_form">
			<field name="name">funenc_xa_station_change_shifts_time_form</field>
			<field name="model">funenc_xa_station.change_shifts_time</field>
			<field name="arch" type="xml">
				<form>
					<div class="container-fluid">
						<group>
                            <field name="line_id" string="线路" domain="[('department_hierarchy','=',2)]"
                                   options="{'no_create':True,'no_open':True}"
                                   groups="funenc_xa_station.system_fuenc_tester"/>
                            <field name="site_id" string="站点" domain="[('department_hierarchy','=',3)]"
                                   options="{'no_create':True,'no_open':True}"
                                   groups="funenc_xa_station.system_fuenc_tester"/>
                            <field name="context" string="内容"/>
                            <field name="time" string="时间"/>
						</group>
					</div>
				</form>
			</field>
		</record>


    </data>
</odoo>