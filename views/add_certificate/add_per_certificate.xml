<?xml  version="1.0"  encoding="UTF-8"  ?>

<odoo>
    <data>

        <record model="ir.actions.server" id="person_certificate_button">
            <field name="name">新增证件</field>
            <field name="state">code</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_person_certificate"/>
            <field name="condition">True</field>
            <field name="binding_model_id" ref="model_person_certificate"/>
            <field name="binding_type">action_button</field>
            <field name="binding_action">人员证件管理</field>
            <field name="code">
                action = model.person_certificate_type()
            </field>
        </record>

        <record id="person_certificate_tree" model="ir.ui.view">
            <field name="name">人员证件管理</field>
            <field name="model">person.certificate</field>
            <field name="arch" type="xml">
                <tree create="0" class="noOpen">
                    <field name="id" string="序号"></field>
                    <field name="name"></field>
                    <field name="line_road"></field>
                    <field name="station_site"></field>
                    <field name="person_name"></field>
                    <field name="work_number"></field>
                    <field name="phone"></field>
                    <field name="site"></field>
                    <field name="licence_issuing_authority"></field>
                    <field name="get_certificate_time"></field>
                    <field name="period_of_validity"></field>
                    <field name="certificate_money"></field>
                    <field name="one_recheck_time"></field>
                    <field name="one_recheck_money"></field>
                    <field name="two_recheck_time"></field>
                    <field name="two_recheck_money"></field>
                    <widget string="证件详情" name="treebtns" template="person_dateils"/>
                    <widget string="操作" name="treebtns" template="person_certificate"/>
                </tree>
            </field>
        </record>

        <record id="person_certificate_search" model="ir.ui.view">
            <field name="name">人员证件管理</field>
            <field name="model">person.certificate</field>
            <field name="arch" type="xml">
                <search>
                    <field name="id" string="序号"></field>
                    <field name="name"></field>
                    <field name="line_road"></field>
                    <field name="station_site"></field>
                    <field name="person_name"></field>
                    <field name="work_number"></field>
                    <field name="phone"></field>
                    <field name="site"></field>
                    <field name="licence_issuing_authority"></field>
                    <field name="get_certificate_time"></field>
                    <field name="period_of_validity"></field>
                    <field name="certificate_money"></field>
                    <field name="one_recheck_time"></field>
                    <field name="one_recheck_money"></field>
                    <field name="two_recheck_time"></field>
                    <field name="two_recheck_money"></field>
                </search>
            </field>
        </record>

        <record id="person_certificate_form" model="ir.ui.view">
            <field name="name">人员证件管理</field>
            <field name="model">person.certificate</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group name="group_top">
                            <group name="group_right">
                                <field name="line_road"></field>
                                <field name="work_number" string="员工工号"></field>
                                <field name="book_number"></field>
                                <field name="period_of_validity"></field>
                                <field name="one_recheck_time"></field>
                                <field name="two_recheck_time"></field>
                            </group>

                            <group name="group_left">
                                <field name="station_site"></field>
                                <field name="gender"></field>
                                <field name="licence_issuing_authority"></field>
                                <field name="train_time"></field>
                                <field name="one_recheck_money"></field>
                            </group>

                            <group name="group_left">
                                <field name="person_name" string="员工姓名"></field>
                                <field name="name"></field>
                                <field name="get_certificate_time"></field>
                                <field name="certificate_money"></field>
                                <field name="two_recheck_money"></field>
                            </group>
                            <group name="group_bottom">
                                <field name="file_name" invisible="1"/>
                                <field name="load_file_test" widget="one2many_image_read_widget" string="上传证件照片">
                                    <tree>
                                        <field name="datas_fname"/>
                                    </tree>
                                </field>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="person_certificate_form_load" model="ir.ui.view">
            <field name="name">人员证件管理</field>
            <field name="model">person.certificate</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group string="点击对应的文件名进入下载">
                            <div class="x_panel form_sec">
                                <field name="load_file_test" widget="one2many_binary">
                                    <tree>
                                        <field name="datas_fname"/>
                                    </tree>
                                </field>
                            </div>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="person_certificate_details" model="ir.ui.view">
            <field name="name">人员证件管理</field>
            <field name="model">person.certificate</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <field name="load_file_test" widget="one2many_image_read_widget" string="上传证件照片">
                                <tree>
                                    <field name="datas_fname"/>
                                </tree>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="person_certificate_act" model="ir.actions.act_window">
            <field name="name">人员证件管理</field>
            <field name="res_model">person.certificate</field>
            <field name="view_mode">tree,kanban,form</field>
        </record>

    </data>
</odoo>