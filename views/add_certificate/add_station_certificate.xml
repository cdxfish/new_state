<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>

        <record model="ir.actions.server" id="station_certificate_button">
			<field name="name">新增证件</field>
			<field name="state">code</field>
			<field name="type">ir.actions.server</field>
			<field name="model_id" ref="model_station_certificate"/>
			<field name="condition">True</field>
			<field name="binding_model_id" ref="model_station_certificate"/>
			<field name="binding_type">action_button</field>
			<field name="binding_action">新增规章</field>
			<field name="code">
				action = model.station_certificate_type()
			</field>
		</record>
        <record id="add_station_certificate_tree" model="ir.ui.view">
            <field name="name">车站证件管理</field>
            <field name="model">station.certificate</field>
            <field name="arch" type="xml">
                <tree create="0" class="noOpen">
                    <field name="id" string="序号"></field>
                    <field name="name"></field>
                    <field name="line_road"></field>
                    <field name="station_site"></field>
                    <field name="certificate_time"></field>
                    <widget string="证件详情" name="treebtns" template="details_certificate"/>
                    <field name="certificate_number"></field>
                    <field name="station_agent"></field>
                    <field name="station_agent_phone"></field>
                    <widget string="证件详情" name="treebtns" template="add_certificate"/>
                </tree>
            </field>
        </record>

        <record id="add_station_certificate_search" model="ir.ui.view">
            <field name="name">车站证件管理</field>
            <field name="model">station.certificate</field>
            <field name="arch" type="xml">
                <search>
                    <field name="id" string="序号"></field>
                    <field name="name"></field>
                    <field name="line_road"></field>
                    <field name="station_site"></field>
                    <field name="certificate_time"></field>
                    <field name="certificate_number"></field>
                    <field name="station_agent"></field>
                    <field name="station_agent_phone"></field>
                </search>
            </field>
        </record>

        <record id="add_station_certificate_form" model="ir.ui.view">
            <field name="name">车站证件管理</field>
            <field name="model">station.certificate</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group name="group_top">
                            <group name="group_right">
                                <field name="line_road"></field>
                                <field name="name"></field>
                                <field name="certificate_number"></field>
                            </group>
                            <group name="group_left">
                                <field name="station_site"></field>
                                <field name="certificate_time"></field>
                            </group>
                            <group name="group_bottom">
                                <field name="certificate_details"></field>
                                <field name="file_name" invisible="1"/>
                            </group>
                                <field name="load_file_test" widget="one2many_image_read_widget" string="上传证件照片">
                                     <tree>
                                        <field name="datas_fname" />
                                     </tree>
                                </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="add_station_certificate_details" model="ir.ui.view">
            <field name="name">车站证件管理</field>
            <field name="model">station.certificate</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                                <field name="load_file_test" widget="one2many_image_read_widget" string="上传证件照片">
                                     <tree>
                                        <field name="datas_fname" />
                                     </tree>
                                </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

          <record id="add_station_certificate_form_load" model="ir.ui.view">
            <field name="name">车站证件管理</field>
            <field name="model">station.certificate</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group name="group_bottom" string="点击对应的文件名进入下载">
                                <div class="x_panel form_sec">
                                    <field name="load_file_test" widget="one2many_binary">
                                     <tree>
                                        <field name="datas_fname" />
                                     </tree>
                                    </field>
                                </div>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="station_certificate_act_id_1" model="ir.actions.act_window">
            <field name="name">新增规章</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">station.certificate</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,kanban,form</field>
             <field name="top_widget">multi_action_tab</field>
            <field name="top_widget_key">driver_manage_tab</field>
            <field name="top_widget_options">
                {'tabs': [{'title': '车站证件管理',
                'action':  {
                    'type': 'ir.actions.act_window',
                    "name": "车站证件管理",
                    'views': [[False, 'list'], [False, 'form']],
                    'view_mode': 'tree,form',
                    "res_model": "station.certificate"
                }},
                {'title': '人员证件管理', 'domains': [['id', '=', '1']]},
                {'title': ' ', 'domains': [['id', '=', '1']]}]}
            </field>
        </record>
        <record id="certificate_act_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="add_station_certificate_tree"/>
            <field name="act_window_id" ref="station_certificate_act_id_1"/>
        </record>
        <record id="certificate_act_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="add_station_certificate_form"/>
            <field name="act_window_id" ref="station_certificate_act_id_1"/>
        </record>
    </data>
</odoo>