{"version":3,"sources":["webpack:///./src/assets/imgs/qianjin.png","webpack:///./src/pages/faultreporting/Add.vue?a45e","webpack:///src/pages/faultreporting/Add.vue","webpack:///./src/pages/faultreporting/Add.vue?d705","webpack:///./src/pages/faultreporting/Add.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/pages/faultreporting/Add.vue?5a9f"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","for","_v","class","placeholder","formData","category","_s","break_type","src","__webpack_require__","alt","directives","name","rawName","value","expression","id","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","item","key","domProps","deviceName","type","input","composing","deviceNo","deviceLine","devicePosition","rows","max","handleClick","size","token","imgUpToken","uploadUrl","images","imgs","add-image","selectImg","remove-image","rmImg","click","commitChange","staticRenderFns","Addvue_type_script_lang_js_","data","lines","stations","breakTypes","desc","computed","sendee","length","join","methods","that","dd","biz","util","uploadImage","compression","quality","resize","stickers","time","Date","onSuccess","result","push","url","onFail","err","alert","JSON","stringify","splice","_this","console","log","$rpc","vals","equipment_name","equipment_number","break_describe","line_id","site_id","then","res","$router","path","catch","e","getLine","_this2","getSites","_this3","getBreakType","_this4","mounted","watch","formData.deviceLine","handler","v","faultreporting_Addvue_type_script_lang_js_","component","Object","componentNormalizer","__file","__webpack_exports__","dP","f","FProto","Function","nameRE","NAME","configurable","get","match","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Add_vue_vue_type_style_index_0_id_f8addfa4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Add_vue_vue_type_style_index_0_id_f8addfa4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-a893611c.24fdda55.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAwCAYAAADgvwGgAAACYklEQVRYR73YP4jTYBjH8d/TJG1PNC4FpVUQ6tbNTt06FVNICkLd3FS4U+gkuvhvUjcF18Opa0MDbUcHhUPBG8RDELoWFxGcpOn5yFuuR9peat7kjdmahveT99umeRsCAMuyzFwudwWA5vv+/mAw+Cn2q96oXq+fNk3zFYAbAAjAW03T7rqu+005ZlnWBcMwvgA4ezT4IRF98n2/NRwOv6sEqdlsntd1fQ/ApZWBP/u+f200Go1VgVStVo1isXiLiJ4DOBMY+A+Ad5qm3VaVVHxGaLfbW9PptMPMz1ZmcQhgfzabOSqSzrHF1mq1HjDzQwCn0ki6hFmWlTMM4w6AJ2kkXcLSTrqGpZk0FEsjaSiWRtKNmOqkkTBVSSNhYoa1Wm2rUCh0iCj2hR8ZWyS1bfs+ET2Kc+FLY0mSSmNJksbC4iZNhMkmTYTJJk2M/SspM++Zpnm12+3+UoaFJWXm30R0z/O818qwsKTMzAB2J5PJjlKsUqlky+XyNoCXi7wCI6I34/F4WxkWyPgYgBnA1Gd0HKcD4Glg/Tn3mPmjrutN13V/JJ7ZSemOZiWWgl8BNDzPm4h9iTCRLpvN7jCzWCAdpwNw4pozERaWDsABEV3v9/tiZuLbON9iYTLpgutPaUz29zARJpsuFhY3nTSWJJ00liRdZExFukiYqnSRMFXpNmKq04ViaaQLxdJIt4almW4JE48mSqXSTQAv0vgfvYQ5jnMOwHsAl4NvhN0mVo6RekmNRuNiPp8/CMxq7Q4rNeKGg//vgzJxIrZtFzKZTI2ItEwm86HX64kHZMd3WFUz+wubq5plThS7PwAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"faultreporting_add\"},[_c('div',{staticClass:\"box first arrow\"},[_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"break_type\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        故障类型:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.category}},[_c('span',[_vm._v(_vm._s(this.formData.category ? this.formData.category.break_type: '请选择'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.category),expression:\"formData.category\"}],attrs:{\"name\":\"category\",\"id\":\"break_type\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.formData, \"category\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.breakTypes),function(item){return _c('option',{key:item.id,domProps:{\"value\":item}},[_vm._v(_vm._s(item.break_type))])})],2)])]),_c('div',{staticClass:\"hr\"}),_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"device_name\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        设备名称:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.deviceName}},[_c('span',[_vm._v(_vm._s(this.formData.deviceName ? this.formData.deviceName: '请输入设备名称'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.deviceName),expression:\"formData.deviceName\"}],attrs:{\"type\":\"text\",\"id\":\"device_name\"},domProps:{\"value\":(_vm.formData.deviceName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"deviceName\", $event.target.value)}}})])]),_c('div',{staticClass:\"hr\"}),_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"device_no\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        设备编号:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.deviceNo}},[_c('span',[_vm._v(_vm._s(this.formData.deviceNo ? this.formData.deviceNo: '请输入设备编号'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.deviceNo),expression:\"formData.deviceNo\"}],attrs:{\"type\":\"text\",\"id\":\"device_no\"},domProps:{\"value\":(_vm.formData.deviceNo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"deviceNo\", $event.target.value)}}})])]),_c('div',{staticClass:\"hr\"}),_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"device_line\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        所在线路:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.deviceLine}},[_c('span',[_vm._v(_vm._s(this.formData.deviceLine ? this.formData.deviceLine.name: '请选择'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.deviceLine),expression:\"formData.deviceLine\"}],attrs:{\"name\":\"deviceLine\",\"id\":\"device_line\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.formData, \"deviceLine\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.lines),function(item){return _c('option',{key:item.id,domProps:{\"value\":item}},[_vm._v(_vm._s(item.name))])})],2)])]),_c('div',{staticClass:\"hr\"}),_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"device_position\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        所在位置:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.devicePosition}},[_c('span',[_vm._v(_vm._s(this.formData.devicePosition ? this.formData.devicePosition.name: '请选择'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.devicePosition),expression:\"formData.devicePosition\"}],attrs:{\"name\":\"devicePosition\",\"id\":\"device_position\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.formData, \"devicePosition\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.stations),function(item){return _c('option',{key:item.id,domProps:{\"value\":item}},[_vm._v(_vm._s(item.name))])})],2)])])]),_c('div',{staticClass:\"box second\"},[_c('div',{staticClass:\"row\"},[_vm._v(\"\\n      故障描述:\\n    \")]),_c('div',{staticClass:\"hr\"}),_c('div',{staticClass:\"row textarea_box\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.desc),expression:\"formData.desc\"}],attrs:{\"name\":\"\",\"id\":\"\",\"rows\":\"10\",\"placeholder\":\"请输入故障描述\"},domProps:{\"value\":(_vm.formData.desc)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"desc\", $event.target.value)}}})])]),_c('div',{staticClass:\"box third\"},[_c('div',{staticClass:\"row\"},[_vm._v(\"\\n      照片:\\n    \")]),_c('div',{staticClass:\"hr\"}),_c('div',{staticClass:\"row img_box\"},[_c('upload',{attrs:{\"max\":9,\"handleClick\":true,\"size\":\"small\",\"token\":_vm.imgUpToken,\"uploadUrl\":\"http://up-z1.qiniu.com\",\"images\":_vm.formData.imgs},on:{\"add-image\":_vm.selectImg,\"remove-image\":_vm.rmImg}})],1)]),_c('common-btn',{staticClass:\"add_btn\",on:{\"click\":_vm.commitChange}},[_vm._v(\"确认提交\")]),_c('div',{staticClass:\"blank\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"faultreporting_add\">\n    <div class=\"box first arrow\">\n      <label class=\"row input_row\" for=\"break_type\">\n        <div class=\"left\">\n          故障类型:\n        </div>\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.category}\">\n          <span>{{this.formData.category ? this.formData.category.break_type: '请选择'}}</span>\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\n        </div>\n        <div class=\"input_box\">\n          <select name=\"category\" id=\"break_type\" v-model=\"formData.category\">\n            <option value=\"\"></option>\n            <option :value=\"item\" v-for=\"item in breakTypes\" :key=\"item.id\">{{item.break_type}}</option>\n          </select>\n        </div>\n      </label>\n      <div class=\"hr\"></div>\n      <label class=\"row input_row\" for=\"device_name\">\n        <div class=\"left\">\n          设备名称:\n        </div>\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.deviceName}\">\n          <span>{{this.formData.deviceName ? this.formData.deviceName: '请输入设备名称'}}</span>\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\n        </div>\n        <div class=\"input_box\">\n          <input type=\"text\" v-model=\"formData.deviceName\" id=\"device_name\">\n        </div>\n      </label>\n      <div class=\"hr\"></div>\n      <label class=\"row input_row\" for=\"device_no\">\n        <div class=\"left\">\n          设备编号:\n        </div>\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.deviceNo}\">\n          <span>{{this.formData.deviceNo ? this.formData.deviceNo: '请输入设备编号'}}</span>\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\n        </div>\n        <div class=\"input_box\">\n          <input type=\"text\" v-model=\"formData.deviceNo\" id=\"device_no\">\n        </div>\n      </label>\n      <div class=\"hr\"></div>\n      <label class=\"row input_row\" for=\"device_line\">\n        <div class=\"left\">\n          所在线路:\n        </div>\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.deviceLine}\">\n          <span>{{this.formData.deviceLine ? this.formData.deviceLine.name: '请选择'}}</span>\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\n        </div>\n        <div class=\"input_box\">\n          <select name=\"deviceLine\" id=\"device_line\" v-model=\"formData.deviceLine\">\n            <option value=\"\"></option>\n            <option :value=\"item\" v-for=\"item in lines\" :key=\"item.id\">{{item.name}}</option>\n          </select>\n        </div>\n      </label>\n      <div class=\"hr\"></div>\n      <label class=\"row input_row\" for=\"device_position\">\n        <div class=\"left\">\n          所在位置:\n        </div>\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.devicePosition}\">\n          <span>{{this.formData.devicePosition ? this.formData.devicePosition.name: '请选择'}}</span>\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\n        </div>\n        <div class=\"input_box\">\n          <select name=\"devicePosition\" id=\"device_position\" v-model=\"formData.devicePosition\">\n            <option value=\"\"></option>\n            <option :value=\"item\" v-for=\"item in stations\" :key=\"item.id\">{{item.name}}</option>\n          </select>\n        </div>\n      </label>\n    </div>\n    <div class=\"box second\">\n      <div class=\"row\">\n        故障描述:\n      </div>\n      <div class=\"hr\"></div>\n      <div class=\"row textarea_box\">\n        <textarea name=\"\" id=\"\" rows=\"10\" v-model=\"formData.desc\" placeholder=\"请输入故障描述\"></textarea>\n      </div>\n    </div>\n    <div class=\"box third\">\n      <div class=\"row\">\n        照片:\n      </div>\n      <div class=\"hr\"></div>\n      <div class=\"row img_box\">\n        <upload :max=\"9\" :handleClick=\"true\" size=\"small\" :token=\"imgUpToken\" uploadUrl=\"http://up-z1.qiniu.com\" :images=\"formData.imgs\" @add-image=\"selectImg\" @remove-image=\"rmImg\"/>\n      </div>\n    </div>\n    <common-btn class=\"add_btn\" @click=\"commitChange\">确认提交</common-btn>\n    <div class=\"blank\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FaultReportingAdd',\n  data () {\n    return {\n      imgUpToken: '',\n      lines: [],\n      stations: [],\n      breakTypes: [],\n      formData: {\n        category: '',\n        deviceName: '',\n        deviceNo: '',\n        deviceLine: '',\n        devicePosition: '',\n        desc: '',\n        imgs: []\n      }\n    }\n  },\n  computed: {\n    sendee () {\n      if (this.formData.sendee && this.formData.sendee.length > 0) {\n        return this.formData.sendee.map((item) => {\n          return item.name\n        }).join(',')\n      }\n    }\n  },\n  methods: {\n    selectImg () {\n      let that = this\n      // eslint-disable-next-line\n      dd.biz.util.uploadImage({\n        compression: false,\n        quality: 100,\n        resize: 100,\n        stickers: {\n          time: new Date()\n        },\n        onSuccess: function (result) {\n          that.formData.imgs.push({ url: result[0] })\n        },\n        onFail: function (err) {\n          alert(JSON.stringify(err))\n        }\n      })\n    },\n    rmImg () {\n      this.formData.imgs.splice(0, 1)\n    },\n    commitChange () {\n      console.log(this.formData)\n      this.$rpc.call('funenc_xa_station.break_submit', 'save_break_submit', [], {\n        vals: {\n          break_type: this.formData.category && this.formData.category.id,\n          equipment_name: this.formData.deviceName,\n          equipment_number: this.formData.deviceNo,\n          break_describe: this.formData.desc,\n          line_id: this.formData.deviceLine && this.formData.deviceLine.id,\n          site_id: this.formData.devicePosition && this.formData.devicePosition.id,\n          url: JSON.stringify(this.formData.imgs)\n        }\n      }).then(res => {\n        if (res) {\n          this.$router.push({\n            path: '/faultreporting'\n          })\n        }\n      }).catch(e => {\n        console.log(e)\n        alert('提交失败')\n      })\n    },\n    getLine () {\n      this.$rpc.call('cdtct_dingtalk.cdtct_dingtalk_department', 'get_line_id', [], {}).then(res => {\n        this.lines = res\n      }).catch(e => {\n        console.log(e)\n        alert('获取线路失败')\n      })\n    },\n    getSites (id) {\n      this.$rpc.call('cdtct_dingtalk.cdtct_dingtalk_department', 'get_sites', [], {\n        line_id: id\n      }).then(res => {\n        this.stations = res\n      }).catch(e => {\n        console.log(e)\n        alert('获取地址失败')\n      })\n    },\n    getBreakType () {\n      this.$rpc.call('funenc_xa_staion.break_type_increase', 'get_break_type', [], {}).then(res => {\n        this.breakTypes = res\n        console.log(this.breakTypes)\n      }).catch(e => {\n        console.log(e)\n        alert('获取故障类型失败')\n      })\n    }\n  },\n  mounted () {\n    this.getLine()\n    this.getBreakType()\n  },\n  watch: {\n    'formData.deviceLine': {\n      handler (v) {\n        this.getSites(v.id)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../styles/common';\n.faultreporting_add{\n  .box{\n    margin-top: 16 * @px1;\n    background: #fff;\n    overflow: hidden;\n    .row{\n      padding-left: 16 * @px1;\n      padding-right: 16 * @px1;\n      line-height: 56 * @px1;\n      height: 56 * @px1;\n    }\n    .input_row{\n      display: block;\n    }\n  }\n  .arrow{\n    .row{\n      position: relative;\n      .right{\n        text-align: right;\n        color: @titleGray;\n        &.placeholder{\n          color: @placeholderGray;\n        }\n        img{\n          height: 14 * @px1;\n          margin-left: 6 * @px1;\n          vertical-align: -2 * @px1;\n        }\n      }\n      .input_box{\n        position: absolute;\n        z-index: 2;\n        width: 100%;\n        opacity: 0;\n        select,input{\n          width: 0 * @px1;\n          height: 50 * @px1;\n          caret-color: transparent;\n        }\n      }\n    }\n  }\n  .second{\n    .textarea_box{\n      height: 100%;\n      textarea{\n        width: 100%;\n        border: none;\n        padding: 4 * @px1;\n        font-size: 14 * @px1;\n        margin-top: 10 * @px1;\n      }\n    }\n  }\n  .third{\n    .img_box{\n      height: 100%;\n      padding-bottom: 16 * @px1;\n    }\n  }\n  .add_btn{\n    margin-top: 36 * @px1;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=f8addfa4&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&id=f8addfa4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8addfa4\",\n  null\n  \n)\n\ncomponent.options.__file = \"Add.vue\"\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=f8addfa4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=f8addfa4&lang=less&scoped=true&\""],"sourceRoot":""}