{"version":3,"sources":["webpack:///./src/assets/imgs/qianjin.png","webpack:///./src/pages/faultreporting/Add.vue?db4b","webpack:///src/pages/faultreporting/Add.vue","webpack:///./src/pages/faultreporting/Add.vue?7566","webpack:///./src/pages/faultreporting/Add.vue","webpack:///./src/pages/faultreporting/Add.vue?33c4","webpack:///./node_modules/_core-js@2.6.4@core-js/modules/es6.function.name.js"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","for","_v","class","placeholder","formData","category","_s","break_type","src","__webpack_require__","alt","directives","name","rawName","value","expression","id","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","item","key","domProps","deviceName","type","input","composing","deviceNo","deviceLine","devicePosition","rows","max","handleClick","size","token","imgUpToken","uploadUrl","images","imgs","add-image","selectImg","remove-image","rmImg","click","commitChange","staticRenderFns","Addvue_type_script_lang_js_","data","lines","stations","breakTypes","desc","computed","sendee","length","join","methods","that","dd","biz","util","uploadImage","compression","quality","resize","stickers","time","Date","onSuccess","result","push","url","onFail","err","alert","stringify_default","splice","_this","console","log","$rpc","vals","equipment_name","equipment_number","break_describe","line_id","site_id","then","res","$router","path","catch","e","getLine","_this2","getSites","_this3","getBreakType","_this4","mounted","watch","formData.deviceLine","handler","v","faultreporting_Addvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_6_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_6_2_vue_loader_lib_index_js_vue_loader_options_Add_vue_vue_type_style_index_0_id_17bd656a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_6_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_6_2_vue_loader_lib_index_js_vue_loader_options_Add_vue_vue_type_style_index_0_id_17bd656a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","dP","f","FProto","Function","nameRE","NAME","configurable","get","match"],"mappings":"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","file":"js/chunk-68346085.1813c95b.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAwCAYAAADgvwGgAAACYklEQVRYR73YP4jTYBjH8d/TJG1PNC4FpVUQ6tbNTt06FVNICkLd3FS4U+gkuvhvUjcF18Opa0MDbUcHhUPBG8RDELoWFxGcpOn5yFuuR9peat7kjdmahveT99umeRsCAMuyzFwudwWA5vv+/mAw+Cn2q96oXq+fNk3zFYAbAAjAW03T7rqu+005ZlnWBcMwvgA4ezT4IRF98n2/NRwOv6sEqdlsntd1fQ/ApZWBP/u+f200Go1VgVStVo1isXiLiJ4DOBMY+A+Ad5qm3VaVVHxGaLfbW9PptMPMz1ZmcQhgfzabOSqSzrHF1mq1HjDzQwCn0ki6hFmWlTMM4w6AJ2kkXcLSTrqGpZk0FEsjaSiWRtKNmOqkkTBVSSNhYoa1Wm2rUCh0iCj2hR8ZWyS1bfs+ET2Kc+FLY0mSSmNJksbC4iZNhMkmTYTJJk2M/SspM++Zpnm12+3+UoaFJWXm30R0z/O818qwsKTMzAB2J5PJjlKsUqlky+XyNoCXi7wCI6I34/F4WxkWyPgYgBnA1Gd0HKcD4Glg/Tn3mPmjrutN13V/JJ7ZSemOZiWWgl8BNDzPm4h9iTCRLpvN7jCzWCAdpwNw4pozERaWDsABEV3v9/tiZuLbON9iYTLpgutPaUz29zARJpsuFhY3nTSWJJ00liRdZExFukiYqnSRMFXpNmKq04ViaaQLxdJIt4almW4JE48mSqXSTQAv0vgfvYQ5jnMOwHsAl4NvhN0mVo6RekmNRuNiPp8/CMxq7Q4rNeKGg//vgzJxIrZtFzKZTI2ItEwm86HX64kHZMd3WFUz+wubq5plThS7PwAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"faultreporting_add\"},[_c('div',{staticClass:\"box first arrow\"},[_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"break_type\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        故障类型:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.category}},[_c('span',[_vm._v(_vm._s(this.formData.category ? this.formData.category.break_type: '请选择'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.category),expression:\"formData.category\"}],attrs:{\"name\":\"category\",\"id\":\"break_type\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.formData, \"category\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.breakTypes),function(item){return _c('option',{key:item.id,domProps:{\"value\":item}},[_vm._v(_vm._s(item.break_type))])})],2)])]),_c('div',{staticClass:\"hr\"}),_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"device_name\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        设备名称:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.deviceName}},[_c('span',[_vm._v(_vm._s(this.formData.deviceName ? this.formData.deviceName: '请输入设备名称'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.deviceName),expression:\"formData.deviceName\"}],attrs:{\"type\":\"text\",\"id\":\"device_name\"},domProps:{\"value\":(_vm.formData.deviceName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"deviceName\", $event.target.value)}}})])]),_c('div',{staticClass:\"hr\"}),_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"device_no\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        设备编号:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.deviceNo}},[_c('span',[_vm._v(_vm._s(this.formData.deviceNo ? this.formData.deviceNo: '请输入设备编号'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.deviceNo),expression:\"formData.deviceNo\"}],attrs:{\"type\":\"text\",\"id\":\"device_no\"},domProps:{\"value\":(_vm.formData.deviceNo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"deviceNo\", $event.target.value)}}})])]),_c('div',{staticClass:\"hr\"}),_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"device_line\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        所在线路:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.deviceLine}},[_c('span',[_vm._v(_vm._s(this.formData.deviceLine ? this.formData.deviceLine.name: '请选择'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.deviceLine),expression:\"formData.deviceLine\"}],attrs:{\"name\":\"deviceLine\",\"id\":\"device_line\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.formData, \"deviceLine\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.lines),function(item){return _c('option',{key:item.id,domProps:{\"value\":item}},[_vm._v(_vm._s(item.name))])})],2)])]),_c('div',{staticClass:\"hr\"}),_c('label',{staticClass:\"row input_row\",attrs:{\"for\":\"device_position\"}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n        所在位置:\\n      \")]),_c('div',{staticClass:\"right\",class:{'placeholder': !this.formData.devicePosition}},[_c('span',[_vm._v(_vm._s(this.formData.devicePosition ? this.formData.devicePosition.name: '请选择'))]),_c('img',{attrs:{\"src\":require(\"@/assets/imgs/qianjin.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"input_box\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.devicePosition),expression:\"formData.devicePosition\"}],attrs:{\"name\":\"devicePosition\",\"id\":\"device_position\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.formData, \"devicePosition\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.stations),function(item){return _c('option',{key:item.id,domProps:{\"value\":item}},[_vm._v(_vm._s(item.name))])})],2)])])]),_c('div',{staticClass:\"box second\"},[_c('div',{staticClass:\"row\"},[_vm._v(\"\\n      故障描述:\\n    \")]),_c('div',{staticClass:\"hr\"}),_c('div',{staticClass:\"row textarea_box\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.desc),expression:\"formData.desc\"}],attrs:{\"name\":\"\",\"id\":\"\",\"rows\":\"10\",\"placeholder\":\"请输入故障描述\"},domProps:{\"value\":(_vm.formData.desc)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"desc\", $event.target.value)}}})])]),_c('div',{staticClass:\"box third\"},[_c('div',{staticClass:\"row\"},[_vm._v(\"\\n      照片:\\n    \")]),_c('div',{staticClass:\"hr\"}),_c('div',{staticClass:\"row img_box\"},[_c('upload',{attrs:{\"max\":9,\"handleClick\":true,\"size\":\"small\",\"token\":_vm.imgUpToken,\"uploadUrl\":\"http://up-z1.qiniu.com\",\"images\":_vm.formData.imgs},on:{\"add-image\":_vm.selectImg,\"remove-image\":_vm.rmImg}})],1)]),_c('common-btn',{staticClass:\"add_btn\",on:{\"click\":_vm.commitChange}},[_vm._v(\"确认提交\")]),_c('div',{staticClass:\"blank\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"faultreporting_add\">\r\n    <div class=\"box first arrow\">\r\n      <label class=\"row input_row\" for=\"break_type\">\r\n        <div class=\"left\">\r\n          故障类型:\r\n        </div>\r\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.category}\">\r\n          <span>{{this.formData.category ? this.formData.category.break_type: '请选择'}}</span>\r\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"input_box\">\r\n          <select name=\"category\" id=\"break_type\" v-model=\"formData.category\">\r\n            <option value=\"\"></option>\r\n            <option :value=\"item\" v-for=\"item in breakTypes\" :key=\"item.id\">{{item.break_type}}</option>\r\n          </select>\r\n        </div>\r\n      </label>\r\n      <div class=\"hr\"></div>\r\n      <label class=\"row input_row\" for=\"device_name\">\r\n        <div class=\"left\">\r\n          设备名称:\r\n        </div>\r\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.deviceName}\">\r\n          <span>{{this.formData.deviceName ? this.formData.deviceName: '请输入设备名称'}}</span>\r\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"input_box\">\r\n          <input type=\"text\" v-model=\"formData.deviceName\" id=\"device_name\">\r\n        </div>\r\n      </label>\r\n      <div class=\"hr\"></div>\r\n      <label class=\"row input_row\" for=\"device_no\">\r\n        <div class=\"left\">\r\n          设备编号:\r\n        </div>\r\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.deviceNo}\">\r\n          <span>{{this.formData.deviceNo ? this.formData.deviceNo: '请输入设备编号'}}</span>\r\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"input_box\">\r\n          <input type=\"text\" v-model=\"formData.deviceNo\" id=\"device_no\">\r\n        </div>\r\n      </label>\r\n      <div class=\"hr\"></div>\r\n      <label class=\"row input_row\" for=\"device_line\">\r\n        <div class=\"left\">\r\n          所在线路:\r\n        </div>\r\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.deviceLine}\">\r\n          <span>{{this.formData.deviceLine ? this.formData.deviceLine.name: '请选择'}}</span>\r\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"input_box\">\r\n          <select name=\"deviceLine\" id=\"device_line\" v-model=\"formData.deviceLine\">\r\n            <option value=\"\"></option>\r\n            <option :value=\"item\" v-for=\"item in lines\" :key=\"item.id\">{{item.name}}</option>\r\n          </select>\r\n        </div>\r\n      </label>\r\n      <div class=\"hr\"></div>\r\n      <label class=\"row input_row\" for=\"device_position\">\r\n        <div class=\"left\">\r\n          所在位置:\r\n        </div>\r\n        <div class=\"right\" :class=\"{'placeholder': !this.formData.devicePosition}\">\r\n          <span>{{this.formData.devicePosition ? this.formData.devicePosition.name: '请选择'}}</span>\r\n          <img src=\"@/assets/imgs/qianjin.png\" alt=\"\">\r\n        </div>\r\n        <div class=\"input_box\">\r\n          <select name=\"devicePosition\" id=\"device_position\" v-model=\"formData.devicePosition\">\r\n            <option value=\"\"></option>\r\n            <option :value=\"item\" v-for=\"item in stations\" :key=\"item.id\">{{item.name}}</option>\r\n          </select>\r\n        </div>\r\n      </label>\r\n    </div>\r\n    <div class=\"box second\">\r\n      <div class=\"row\">\r\n        故障描述:\r\n      </div>\r\n      <div class=\"hr\"></div>\r\n      <div class=\"row textarea_box\">\r\n        <textarea name=\"\" id=\"\" rows=\"10\" v-model=\"formData.desc\" placeholder=\"请输入故障描述\"></textarea>\r\n      </div>\r\n    </div>\r\n    <div class=\"box third\">\r\n      <div class=\"row\">\r\n        照片:\r\n      </div>\r\n      <div class=\"hr\"></div>\r\n      <div class=\"row img_box\">\r\n        <upload :max=\"9\" :handleClick=\"true\" size=\"small\" :token=\"imgUpToken\" uploadUrl=\"http://up-z1.qiniu.com\" :images=\"formData.imgs\" @add-image=\"selectImg\" @remove-image=\"rmImg\"/>\r\n      </div>\r\n    </div>\r\n    <common-btn class=\"add_btn\" @click=\"commitChange\">确认提交</common-btn>\r\n    <div class=\"blank\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FaultReportingAdd',\r\n  data () {\r\n    return {\r\n      imgUpToken: '',\r\n      lines: [],\r\n      stations: [],\r\n      breakTypes: [],\r\n      formData: {\r\n        category: '',\r\n        deviceName: '',\r\n        deviceNo: '',\r\n        deviceLine: '',\r\n        devicePosition: '',\r\n        desc: '',\r\n        imgs: []\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    sendee () {\r\n      if (this.formData.sendee && this.formData.sendee.length > 0) {\r\n        return this.formData.sendee.map((item) => {\r\n          return item.name\r\n        }).join(',')\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectImg () {\r\n      let that = this\r\n      // eslint-disable-next-line\r\n      dd.biz.util.uploadImage({\r\n        compression: false,\r\n        quality: 100,\r\n        resize: 100,\r\n        stickers: {\r\n          time: new Date()\r\n        },\r\n        onSuccess: function (result) {\r\n          that.formData.imgs.push({ url: result[0] })\r\n        },\r\n        onFail: function (err) {\r\n          alert(JSON.stringify(err))\r\n        }\r\n      })\r\n    },\r\n    rmImg () {\r\n      this.formData.imgs.splice(0, 1)\r\n    },\r\n    commitChange () {\r\n      console.log(this.formData)\r\n      this.$rpc.call('funenc_xa_station.break_submit', 'save_break_submit', [], {\r\n        vals: {\r\n          break_type: this.formData.category && this.formData.category.id,\r\n          equipment_name: this.formData.deviceName,\r\n          equipment_number: this.formData.deviceNo,\r\n          break_describe: this.formData.desc,\r\n          line_id: this.formData.deviceLine && this.formData.deviceLine.id,\r\n          site_id: this.formData.devicePosition && this.formData.devicePosition.id,\r\n          url: JSON.stringify(this.formData.imgs)\r\n        }\r\n      }).then(res => {\r\n        if (res) {\r\n          this.$router.push({\r\n            path: '/faultreporting'\r\n          })\r\n        }\r\n      }).catch(e => {\r\n        console.log(e)\r\n        alert('提交失败')\r\n      })\r\n    },\r\n    getLine () {\r\n      this.$rpc.call('cdtct_dingtalk.cdtct_dingtalk_department', 'get_line_id', [], {}).then(res => {\r\n        this.lines = res\r\n      }).catch(e => {\r\n        console.log(e)\r\n        alert('获取线路失败')\r\n      })\r\n    },\r\n    getSites (id) {\r\n      this.$rpc.call('cdtct_dingtalk.cdtct_dingtalk_department', 'get_sites', [], {\r\n        line_id: id\r\n      }).then(res => {\r\n        this.stations = res\r\n      }).catch(e => {\r\n        console.log(e)\r\n        alert('获取地址失败')\r\n      })\r\n    },\r\n    getBreakType () {\r\n      this.$rpc.call('funenc_xa_staion.break_type_increase', 'get_break_type', [], {}).then(res => {\r\n        this.breakTypes = res\r\n        console.log(this.breakTypes)\r\n      }).catch(e => {\r\n        console.log(e)\r\n        alert('获取故障类型失败')\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getLine()\r\n    this.getBreakType()\r\n  },\r\n  watch: {\r\n    'formData.deviceLine': {\r\n      handler (v) {\r\n        this.getSites(v.id)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../styles/common';\r\n.faultreporting_add{\r\n  .box{\r\n    margin-top: 16 * @px1;\r\n    background: #fff;\r\n    overflow: hidden;\r\n    .row{\r\n      padding-left: 16 * @px1;\r\n      padding-right: 16 * @px1;\r\n      line-height: 56 * @px1;\r\n      height: 56 * @px1;\r\n    }\r\n    .input_row{\r\n      display: block;\r\n    }\r\n  }\r\n  .arrow{\r\n    .row{\r\n      position: relative;\r\n      .right{\r\n        text-align: right;\r\n        color: @titleGray;\r\n        &.placeholder{\r\n          color: @placeholderGray;\r\n        }\r\n        img{\r\n          height: 14 * @px1;\r\n          margin-left: 6 * @px1;\r\n          vertical-align: -2 * @px1;\r\n        }\r\n      }\r\n      .input_box{\r\n        position: absolute;\r\n        z-index: 2;\r\n        width: 100%;\r\n        opacity: 0;\r\n        select {\r\n          width: 100%;\r\n          height: 50 * @px1;\r\n        }\r\n        input{\r\n          width: 0 * @px1;\r\n          height: 50 * @px1;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .second{\r\n    .textarea_box{\r\n      height: 100%;\r\n      textarea{\r\n        width: 100%;\r\n        border: none;\r\n        padding: 4 * @px1;\r\n        font-size: 14 * @px1;\r\n        margin-top: 10 * @px1;\r\n      }\r\n    }\r\n  }\r\n  .third{\r\n    .img_box{\r\n      height: 100%;\r\n      padding-bottom: 16 * @px1;\r\n    }\r\n  }\r\n  .add_btn{\r\n    margin-top: 36 * @px1;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=17bd656a&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&id=17bd656a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17bd656a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=17bd656a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=17bd656a&lang=less&scoped=true&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}